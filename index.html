<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI for All Humanity</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
  integrity="sha512-894YeXLhN1+Lv8q+4A1n4u6suZhfE1K2Zg1MQN5J5RS4U8se5+S7VH1prTNuc2R19G7SkxRPrQLg2L+iEDDyhA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>
    <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  integrity="sha512-pMfpSUXc6w6dJLYj+KdqelqZDhNBSLtQ5VWPWMFN7ajsyjGClKc7uYThjZdWIX0VYGcdDQVO31zYgm6YF3/0Bg=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
    <style>
        /* Custom font for better aesthetics */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
 .wrap {
  position: relative;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  transform-style: preserve-3d;
  perspective: 1000px;
  animation: rotate 14s infinite linear;
}

@keyframes rotate {
  100% {
    transform: rotateY(360deg) rotateX(360deg);
  }
}

.c {
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  opacity: 0;
}
        /* ─────────────────────────────────────────────────────────
   macbook.css
   ───────────────────────────────────────────────────────── */

/* 1) Laptop “Bezel” + “Keyboard Bar” */
.laptop {
  position: relative;
  width: 350px;              /* overall laptop width */
  height: 230px;             /* overall laptop height */
  background-color: #222;    /* dark bezel color */
  border-radius: 10px 10px 4px 4px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
}

/* “Keyboard Bar” (the bottom “base” under the screen) */
.keyboard-bar {
  position: absolute;
  bottom: -20px;             /* sticks out below screen */
  left: 10%;
  width: 80%;
  height: 20px;
  background-color: #555;    /* slightly lighter gray */
  border-radius: 0 0 6px 6px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

/* 2) Screen area INSIDE the bezel */
.screen-wrapper {
  position: absolute;
  top: 12px;                 /* space from top bezel */
  left: 12px;                /* space from left bezel */
  width: calc(100% - 24px);  /* inset on both sides */
  height: calc(100% - 32px); /* leave space for top “camera” strip */
  background-color: #111;    /* very dark as a bezel border */
  border-radius: 6px 6px 0 0;
  overflow: hidden;
}

/* (Optional) a fake “camera dot” at top-center */
.screen-wrapper::before {
  content: "";
  position: absolute;
  top: 6px;
  left: 50%;
  width: 6px;
  height: 6px;
  background: #444;
  border-radius: 50%;
  transform: translateX(-50%);
}

/* 3) Now override .comp → .monitor so that it sits centered inside .screen-wrapper */
.comp .monitor {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: transparent;   /* we let the inner purple “screen” show */
}

/* 4) .comp .screen must fill the entire screen-wrapper */
.comp .screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: transparent; 
  overflow: hidden;
}
</style></head>
<body class="bg-[#0D0D0D]">
    <section id="section-4" class="relative min-h-[1800px] bg-[#0D0D0D] text-white overflow-hidden pt-32">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-32">
            <div class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-8">
                [ PRODUCTS ]
            </div>

            <h1 class="text-5xl sm:text-6xl lg:text-7xl font-bold mb-24 leading-tight">
                AI for all humanity
            </h1>

            <div class="flex flex-col md:flex-row items-center justify-between gap-16">
                <div class="md:w-1/2 text-left">
                    <h2 class="text-4xl font-semibold mb-4">Grok</h2>
                    <p class="text-lg text-gray-300 mb-8 max-w-md">
                        Grok is your cosmic guide, now accessible on grok.com, iOS, and Android. Explore the universe with AI.
                    </p>
                    <button class="px-8 py-4 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                        USE NOW <span class="ml-2">&#8594;</span>
                    </button>
                </div>
                <div class="w-full absolute right-[-250px]">
  <div class="wrap">
    <!-- Repeat the `.c` element exactly 300 times -->
    <!-- You can hand‐copy 300 times, or generate via your template engine. -->
    <div class="c"></div>
    <div class="c"></div>
    <!-- … repeat until you have 300 of these … -->
    <div class="c"></div>
  </div>
                </div>
            </div>

            <div class="flex flex-col md:flex-row items-center justify-between gap-16">
                <div class="md:w-1/2 text-left">
                    <h2 class="text-4xl font-semibold mb-4">API</h2>
                    <p class="text-lg text-gray-300 mb-8 max-w-md">
                        Supercharge your applications with Grok's enhanced speed, precision, and multilingual capabilities.
                    </p>
                    <button class="px-8 py-4 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                        BUILD NOW <span class="ml-2">&#8594;</span>
                    </button>
                </div>
                <div class="md:w-1/2 flex justify-center items-center">
  <!-- ─────────────────────────────────────────────
       MacBook Container (lightweight, CSS‐only)
       ───────────────────────────────────────────── -->
  <div class="laptop">
    <!-- This “screen” is where we’ll drop in your .comp animation -->
    <div class="screen-wrapper">
      <!-- Paste your “.comp” code right here: -->
      <div class="comp">
        <div class="monitor">
          <div class="screen">
            <div class="editorCode">
              <aside class="lines"></aside>
              <section class="textarea"></section>
            </div>

            <div class="editor">
              <div class="tab">
                <span>.</span>
                <span>.</span>
                <span>.</span>
              </div>
            </div>

            <div class="browser">
              <div class="tab">
                <span>.</span>
                <span>.</span>
                <span>.</span>
              </div>
              <div class="spinner">
                <div class="spin">
                  <i class="fa fa-cog fa-spin fa-fw"></i>
                </div>
                <div class="spinMirror">
                  <i class="fa fa-cog fa-spin fa-fw"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="case">
          <div class="pad"></div>
        </div>
      </div>
      <!-- End of .comp -->
    </div>
    <!-- “Keyboard Bar” under the laptop’s screen -->
    <div class="keyboard-bar"></div>
  </div>
                </div>
            </div>

            <div class="flex flex-col md:flex-row items-center justify-between gap-16">
                <div class="md:w-1/2 text-left">
                    <h2 class="text-4xl font-semibold mb-4">Developer Docs</h2>
                    <p class="text-lg text-gray-300 mb-8 max-w-md">
                        Learn how to quickly install Grok at the heart of your applications and explore guides covering common use cases.
                    </p>
                    <button class="px-8 py-4 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                        LEARN MORE <span class="ml-2">&#8594;</span>
                    </button>
                </div>
                <div class="w-full md:w-1/2 flex justify-center items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><g><path d="M58.652,79.589c-0.128,0.145-0.383,0.246-0.834,0.281c-0.075,0.008-0.187,0.008-0.322,0.017   c-0.349,0.01-0.884,0.018-1.565,0.034c-0.373,0-0.781,0-1.231,0.01c-0.689,0-1.633,0-2.745,0.009   c-1.644,0.009-3.46,0.009-5.263,0.009c-3.112,0-6.147-0.009-8.043-0.018c-0.527,0-0.961-0.01-1.292-0.01   c-1.098-0.011-1.931-0.024-2.355-0.043c-0.06,0-0.128,0-0.196-0.008c-0.077-0.011-0.145-0.019-0.204-0.027   c-1.471-0.203-0.306-1.375-0.306-1.375s1.786-1.396,2.67-2.787c0,0,0.263-0.011,0.51-2.161c0.34-3.043,0.637-5.406,0.637-5.406   h16.4c0,0,0.291,2.363,0.638,5.406c0.238,2.15,0.504,2.161,0.504,2.161c0.832,1.308,2.447,2.617,2.649,2.779   c0.011,0,0.019,0.01,0.019,0.01s0.06,0.059,0.136,0.159C58.643,78.857,58.904,79.291,58.652,79.589z" fill="#444"/><path d="M46.222,78.82c0.055,0.065,0.115,0.152,0.168,0.246C46.337,78.975,46.277,78.888,46.222,78.82z" fill="#444"/><path fill="#00FFAA" clip-rule="evenodd" d="M49.292,48.13c-0.701,0.253-1.378,0.499-2.058,0.745   c-2.704-7.051,1.365-15.164,8.157-17.4c0.242,0.669,0.485,1.339,0.741,2.048c-2.91,1.119-5.085,3.06-6.413,5.89   C48.391,42.246,48.289,45.159,49.292,48.13z"/><path fill="#00FFAA" clip-rule="evenodd" d="M57.738,37.979c-1.714,0.672-2.981,1.81-3.753,3.469   c-0.765,1.647-0.818,3.341-0.24,5.071c-0.694,0.251-1.364,0.494-2.035,0.737c-1.682-3.884,0.301-9.603,5.28-11.344   C57.234,36.588,57.48,37.265,57.738,37.979z"/><path fill="#444" clip-rule="evenodd" d="M94.871,73.569c-4.434-12.268-8.878-24.532-13.321-36.796   c-0.052-0.145-0.105-0.29-0.17-0.43c-0.24-0.526-0.628-0.905-1.16-1.132c-0.612-0.261-1.213-0.196-1.826,0.026   c-6.304,2.29-12.61,4.572-18.916,6.856c-0.115,0.042-0.231,0.086-0.344,0.137c-0.705,0.32-1.125,0.869-1.282,1.621   c-0.101,0.479,0.007,0.934,0.17,1.385c2.23,6.15,4.459,12.304,6.687,18.455c2.218,6.123,4.435,12.246,6.655,18.367   c0.091,0.249,0.191,0.503,0.333,0.725c0.578,0.909,1.649,1.234,2.732,0.843c5.236-1.896,10.473-3.793,15.708-5.689   c1.156-0.42,2.318-0.827,3.47-1.262c0.898-0.34,1.423-1.007,1.473-1.969C95.099,74.331,95.001,73.929,94.871,73.569z    M67.208,42.062c1.47-0.619,2.94-1.237,4.411-1.853c0.537-0.225,0.875-0.303,0.924-0.219c0.045,0.076,0.078,0.156,0.102,0.241   c0.027,0.095-0.283,0.289-0.833,0.521c-0.728,0.308-1.458,0.613-2.188,0.919c-0.706,0.296-1.412,0.593-2.118,0.889   c-0.628,0.263-0.975,0.345-1.024,0.243c-0.034-0.073-0.069-0.146-0.092-0.224C66.36,42.484,66.66,42.292,67.208,42.062z    M84.763,77.338c-0.742,0.273-1.487,0.539-2.231,0.809c-0.719,0.262-1.438,0.524-2.159,0.782c-0.642,0.23-1.029,0.188-1.148-0.12   c-0.083-0.219-0.167-0.438-0.238-0.663c-0.088-0.273,0.181-0.559,0.739-0.763c1.498-0.548,2.997-1.092,4.499-1.63   c0.548-0.196,0.928-0.151,1.036,0.108c0.097,0.233,0.183,0.472,0.258,0.713C85.604,76.848,85.322,77.132,84.763,77.338z    M72.396,78.453L60.342,46.369l19.844-7.233l11.591,31.806L72.396,78.453z"/><ellipse cx="93.561" cy="23.394" rx="0.097" ry="0"/><path d="M85.338,11.489c-4.09,0-7.404,3.314-7.404,7.404c0,4.089,3.314,7.404,7.404,7.404c4.089,0,7.403-3.315,7.403-7.404   C92.741,14.804,89.427,11.489,85.338,11.489z M84.123,22.701c-1.113-1.144-2.253-2.314-3.418-3.512   c0.38-0.35,0.838-0.77,1.341-1.231c0.626,0.668,1.286,1.373,2.011,2.146c1.564-1.621,3.042-3.152,4.546-4.711   c0.532,0.567,0.948,1.012,1.367,1.457C88.027,18.794,86.071,20.751,84.123,22.701z" fill="#00FFAA"/><g><path d="M8.229,63.063V19.911h67.908c-0.037-0.334-0.057-0.673-0.057-1.018c0-0.732,0.088-1.442,0.248-2.125h-29.75h-0.542H6.828    c0,0-1.909,0.087-1.909,1.615v46.716c0,0,0.128,1.784,1.91,1.909c1.714,0.123,36.894,0.012,39.588,0    c1.606,0.006,10.056,0.026,17.309,0.041l-1.438-3.985H8.229z" fill="#444"/><path d="M85.338,28.15c-0.29,0-0.576-0.015-0.858-0.041v10.228l3.214,9.941V27.846C86.941,28.044,86.151,28.15,85.338,28.15z" fill="#444"/></g></g></svg>
                </div>
            </div>
        </div>
    </section>
 <script>
  const wrap = document.querySelector('.wrap');
  const total = 300;
  const orbSize = 100;
  const time = 14;

  for (let i = 1; i <= total; i++) {
    const dot = document.createElement('div');
    dot.className = 'c';
    dot.style.animation = `orbit${i} ${time}s infinite`;
    dot.style.animationDelay = `${i * 0.01}s`;
    const hue = (40 / total * i);
    dot.style.backgroundColor = `hsla(${hue}, 100%, 50%, 1)`;
    wrap.appendChild(dot);

    const z = Math.floor(Math.random() * 360);
    const y = Math.floor(Math.random() * 360);

    const style = document.createElement('style');
    style.innerHTML = `
      @keyframes orbit${i} {
        20% {
          opacity: 1;
        }
        30% {
          transform: rotateZ(-${z}deg) rotateY(${y}deg) translateX(${orbSize}px) rotateZ(${z}deg);
        }
        80% {
          transform: rotateZ(-${z}deg) rotateY(${y}deg) translateX(${orbSize}px) rotateZ(${z}deg);
          opacity: 1;
        }
        100% {
          transform: rotateZ(-${z}deg) rotateY(${y}deg) translateX(${orbSize * 3}px) rotateZ(${z}deg);
        }
      }
    `;
    document.head.appendChild(style);
  }
// macbook.css//
(function (box, $, undefined) {
    if ($(window).width() >= 1024) {
      var letterWidth = 2;
    }
    if ($(window).width() <= 1023) {
      var letterWidth = 1;
    }
    if ($(window).width() <= 414) {
      var letterWidth = 1;
    }

    box.templates = {
      linenum: function (num) {
        return '<span class="linenum editing" id="num-{{num}}">{{num}}</span>'.replace(
          /\{\{num\}\}/g,
          num
        );
      },
      line: function (id) {
        return '<span class="line editing" id="line-{{id}}"></span>'.replace(
          "{{id}}",
          id
        );
      },
      code: function (type) {
        return '<span class="code {{type}} editing"></span>'.replace(
          "{{type}}",
          type
        );
      },
      cursor: function () {
        return '<span class="cursor"></span>';
      },
    };

    function Line(num) {
      this.num = num || 0;
      this.elem = "#line-" + this.num;
      this.next = function () {
        this.num++;
        this.elem = "#line-" + this.num;
        return this;
      };
    }
    function Random(max, min) {
      if (max < min) {
        var t = min;
        min = max;
        max = t;
      }
      var max = max || 0.01;
      var min = min || 0;
      return Math.floor(Math.random() * (max - min) + min);
    }
    function RandomDelay(max, min) {
      var max = max || 0.01;
      var min = min || 0;
      if (Random() > 0.003) {
        return Random(max, min);
      }
      return min;
    }

    box.currentLine = new Line();
    box.prev = null;
    box.depth = 0;
    box.maxLines = Math.ceil($(".editorCode").width() / 10.5);

    $(window).on("resize", function () {
      box.maxLines = Math.ceil($(".editorCode").width() / 10.5);
    });

    box.init = function () {
      if (detectIE() !== false) {
        $(".editorCode.lines, .textarea").css("height", "100%");
      }
      box.writeCommentBlock(false);
    };

    box.newLine = function () {
      $(".cursor").remove();
      $("#line-" + box.currentLine.num + ", #num-" + box.currentLine.num).removeClass(
        "editing"
      );
      box.currentLine = box.currentLine.next();
      $(".lines").append(box.templates.linenum(box.currentLine.num));
      $(".textarea").append(box.templates.line(box.currentLine.num));
      $(box.currentLine.elem).append(box.templates.cursor());
      var num = box.currentLine.num - (box.maxLines + 4);
      if (num > 0) {
        $("#line-" + num + ", #num-" + num).remove();
      }
      $(".editorCode").animate(
        { scrollTop: $(".editorCode").prop("scrollHeight") },
        { duration: 1000 }
      );
    };

    box.choose = function (exclude) {
      if (box.depth > 2) {
        return box.closeBlock;
      }
      if (!exclude || exclude == "" || box.depth == 0) {
        return box.writeFunction;
      }
      if (exclude == "!function") {
        var R = Random(330);
      } else if (exclude == "!comment") {
        var R = Random(300);
      }
      if (R < 30) {
        return box.writeCommentBlock;
      }
      if (R > 280) {
        return box.writeComment;
      } else if (R <= 90) {
        return box.writeIf;
      } else if (R <= 170) {
        return box.writeVar;
      } else if (R <= 230) {
        return box.writeLoop();
      } else {
        if (["function", "if", "while", "for"].indexOf(box.prev) > -1) {
          return box.choose(exclude);
        } else {
          return box.closeBlock;
        }
      }
    };

    box.write = function (type) {
      box.finishSection();
      $(box.templates.code(type)).insertBefore(".cursor");
    };

    box.writeCommentBlock = function (nonew) {
      box.prev = "comment";
      var q = new Queue(function () {
        box.newLine();
        var r = box.choose("!comment");
        r();
      }, 3000);
      var min = min || 1;
      var max = max || 8;
      var lines = Random(max, min);
      if (!!nonew) {
        q.add(function () {
          box.newLine();
          q.run();
        });
      }
      for (var i = 0; i < lines; i++) {
        q.add(function () {
          box.newLine();
          box.writeTab(box.depth);
          box.write("comment");
          box.setLength(Random(40, 20), function () {
            q.run();
          });
        });
      }
      q.run();
    };

    box.writeComment = function () {
      box.writeSpace();
      box.write("comment");
      box.setLength(Random(30, 10), function () {
        var r = box.choose("!comment");
        r();
      });
    };

    box.writeFunction = function () {
      box.prev = "function";
      box.newLine();
      box.writeTab(box.depth);
      var q = new Queue(function () {
        box.writeFunction();
      });
      q.add(function () {
        box.write("type");
        box.setLength(5, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("function");
        box.setLength(Random(20, 5), function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("operator");
        box.setLength(1, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("type");
        box.setLength(8, function () {
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          q.run();
        });
      });
      q.add(function () {
        box.writeParams(function () {
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          q.run();
        });
      });
      q.add(function () {
        box.writeSpace();
        box.write("dot");
        box.setLength(1, function () {
          q.run();
        });
      });
      q.add(function () {
        box.depth++;
        var r = box.choose("!function");
        r(function () {
          q.run();
        });
      });
      q.run();
    };

    box.writeParams = function (onFinish) {
      var numParams = Random(5, 0);
      var q = new Queue(onFinish);
      for (var i = 0; i < numParams - 1; i++) {
        q.add(function () {
          box.write("variable");
          box.setLength(Random(10, 1), function () {
            box.write("dot");
            box.writeSpace();
            q.run();
          });
        });
      }
      q.add(function () {
        box.write("variable");
        box.setLength(Random(10, 1), function () {
          q.run();
        });
      });
      q.run();
    };

    box.writeVar = function (done) {
      box.prev = "var";
      var done = done;
      var num = Random(5, 1);
      var q = new Queue(function () {
        var r = box.choose("!function");
        r(done);
      });
      for (var i = 0; i < num; i++) {
        if (Random(3, 1) == 2) {
          q.add(function () {
            box.newLine();
            box.writeTab(box.depth);
            box.write("type");
            box.setLength(3, function () {
              box.writeSpace();
              q.run();
            });
          });
          q.add(function () {
            box.write("variable");
            box.setLength(Random(10, 1), function () {
              box.writeSpace();
              q.run();
            });
          });
        } else {
          q.add(function () {
            box.newLine();
            box.writeTab(box.depth);
            box.write("variable");
            box.setLength(Random(10, 1), function () {
              box.writeSpace();
              q.run();
            });
          });
        }
        q.add(function () {
          box.write("operator");
          box.setLength(1, function () {
            box.writeSpace();
            q.run();
          });
        });
        var rand = Random(5, 1);
        switch (rand) {
          case 1:
            q.add(function () {
              box.write("dot");
              box.setLength(2, function () {
                q.run();
              });
            });
            break;
          case 2:
            q.add(function () {
              box.write("number");
              box.setLength(Random(5, 1), function () {
                q.run();
              });
            });
            break;
          case 3:
            q.add(function () {
              box.write("variable");
              box.setLength(Random(8, 4), function () {
                q.run();
              });
            });
            break;
          case 4:
            q.add(function () {
              box.write("string");
              box.setLength(Random(20, 4), function () {
                q.run();
              });
            });
            break;
        }
        q.add(function () {
          box.write("dot");
          box.setLength(1, function () {
            q.run();
          });
        });
      }
      q.run();
    };

    box.writeIf = function (done) {
      box.prev = "if";
      var depth = depth || Random(5);
      var done = done;
      var q = new Queue(function () {
        var r = box.choose("!function");
        r(done);
      });
      box.newLine();
      box.writeTab(box.depth);
      q.add(function () {
        box.write("operator");
        box.setLength(2, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          q.run();
        });
      });
      q.add(function () {
        box.write("variable");
        box.setLength(Random(10, 4), function () {
          q.run();
        });
      });
      if (Random(2, 0) == 1) {
        q.add(function () {
          box.writeSpace();
          box.write("operator");
          box.setLength(2, function () {
            box.writeSpace();
            q.run();
          });
        });
        var rand = Random(4, 1);
        switch (rand) {
          case 1:
            q.add(function () {
              box.write("number");
              box.setLength(Random(5, 1), function () {
                q.run();
              });
            });
            break;
          case 2:
            q.add(function () {
              box.write("variable");
              box.setLength(Random(8, 4), function () {
                q.run();
              });
            });
            break;
          case 3:
            q.add(function () {
              box.write("string");
              box.setLength(Random(15, 4), function () {
                q.run();
              });
            });
            break;
        }
      }
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          box.depth++;
          var r = box.choose("!function");
          r(function () {
            q.run();
          });
        });
      });
      q.run();
    };

    box.writeLoop = function () {
      switch (Random(3, 1)) {
        case 1:
          return box.writeWhileLoop;
        case 2:
          return box.writeForLoop;
      }
    };

    box.writeWhileLoop = function (done) {
      box.prev = "while";
      var done = done;
      var q = new Queue(function () {
        var r = box.choose("!function");
        r(done);
      });
      box.newLine();
      box.writeTab(box.depth);
      q.add(function () {
        box.write("operator");
        box.setLength(5, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          q.run();
        });
      });
      q.add(function () {
        box.write("variable");
        box.setLength(1, function () {
          q.run();
        });
      });
      if (Random(2, 0) == 1) {
        q.add(function () {
          box.writeSpace();
          box.write("operator");
          box.setLength(1, function () {
            box.writeSpace();
            q.run();
          });
        });
        switch (Random(4, 1)) {
          case 1:
            q.add(function () {
              box.write("number");
              box.setLength(Random(5, 1), function () {
                q.run();
              });
            });
            break;
          case 2:
            q.add(function () {
              box.write("variable");
              box.setLength(Random(8, 4), function () {
                q.run();
              });
            });
            break;
          case 3:
            q.add(function () {
              box.write("string");
              box.setLength(Random(15, 4), function () {
                q.run();
              });
            });
            break;
        }
      }
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          box.depth++;
          var r = box.choose("!function");
          r(function () {
            q.run();
          });
        });
      });
      q.run();
    };

    box.writeForLoop = function (done) {
      box.prev = "for";
      var done = done;
      var rLen = Random(4, 1);
      var q = new Queue(function () {
        var r = box.choose("!function");
        r(done);
      });
      box.newLine();
      box.writeTab(box.depth);
      q.add(function () {
        box.write("operator");
        box.setLength(3, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          q.run();
        });
      });
      q.add(function () {
        box.write("type");
        box.setLength(3, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("variable");
        box.setLength(rLen, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("operator");
        box.setLength(1, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("number");
        box.setLength(1, function () {
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("variable");
        box.setLength(rLen, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("operator");
        box.setLength(Random(3, 1), function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("number");
        box.setLength(Random(8, 1), function () {
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("variable");
        box.setLength(1, function () {
          q.run();
        });
      });
      q.add(function () {
        box.write("operator");
        box.setLength(2, function () {
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          box.writeSpace();
          q.run();
        });
      });
      q.add(function () {
        box.write("dot");
        box.setLength(1, function () {
          box.depth++;
          var r = box.choose("!function");
          r(function () {
            q.run();
          });
        });
      });
      q.run();
    };

    box.closeBlock = function (done) {
      box.prev = "close";
      var done = done;
      var max = box.depth;
      var q = new Queue(function () {
        if (box.depth == 0) {
          box.writeFunction();
        } else {
          done();
        }
      });
      for (var i = 0; i < Random(max + 1, 1) - 1; i++) {
        q.add(function () {
          box.depth--;
          box.newLine();
          box.writeTab(box.depth);
          box.write("dot");
          box.setLength(1, function () {
            q.run();
          });
        });
      }
      q.add(function () {
        box.depth--;
        box.newLine();
        box.writeTab(box.depth);
        box.write("dot");
        box.setLength(1, function () {
          var r = box.choose("!function");
          r(function () {
            q.run();
          });
        });
      });
      q.run();
    };

    box.writeSpace = function (num) {
      var n = num || 1;
      for (var i = 0; i < n; i++) {
        box.write("space");
      }
    };

    box.writeTab = function (num) {
      var n = num || 0;
      for (var i = 0; i < n; i++) {
        box.write("tab");
      }
    };

    box.setLength = function (len, onFinish) {
      $(".cursor").addClass("moving");
      $(".code.editing").css({ "border-radius": "3px 8px 8px 3px" });
      $(".code.editing").animate(
        { width: len * letterWidth },
        {
          duration: len * letterWidth * 4,
          easing: "linear",
          complete: function () {
            $(".code.editing").css({ "border-radius": "3px" }).removeClass("editing");
            $(".cursor").removeClass("moving");
            onFinish();
          },
        }
      );
    };

    box.finishSection = function () {
      $(".code.editing").removeClass("editing");
    };

    function Queue(onFinish, delay) {
      var queue = [];
      var onFinish = onFinish;
      var del = delay || 0;
      this.add = function (fn) {
        queue.push(fn);
      };
      var next = function () {
        var fn = queue.shift();
        fn();
      };
      var empty = function () {
        return queue.length == 0;
      };
      this.run = function () {
        setTimeout(function () {
          if (!empty()) {
            next();
          } else {
            onFinish();
          }
        }, RandomDelay(del));
      };
    }
  })( (window.box = window.box || {}), jQuery );

  function detectIE() {
    var ua = window.navigator.userAgent;
    var msie = ua.indexOf("MSIE ");
    if (msie > 0) {
      return parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)), 10);
    }
    var trident = ua.indexOf("Trident/");
    if (trident > 0) {
      var rv = ua.indexOf("rv:");
      return parseInt(ua.substring(rv + 3, ua.indexOf(".", rv)), 10);
    }
    var edge = ua.indexOf("Edge/");
    if (edge > 0) {
      return parseInt(ua.substring(edge + 5, ua.indexOf(".", edge)), 10);
    }
    return false;
  }

  /* Kick off the typing + spinner animation */
  box.init();
    </script>
    
</body>
</html>
