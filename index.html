<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Immersive Terminal Typing Experience</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/typeit@8.7.1/dist/index.umd.js"></script>
    <style>
        /* Global Styles for Terminal Aesthetic */
        :root {
            --terminal-bg: #111;
            --terminal-text-color: #0f0; /* Classic green terminal text */
            --terminal-glow-color: rgba(0, 255, 0, 0.7); /* Green glow */
            --crt-scanline-color: rgba(0, 0, 0, 0.25);
            --crt-rgb-aberration-red: rgba(255, 0, 0, 0.06);
            --crt-rgb-aberration-green: rgba(0, 255, 0, 0.02);
            --crt-rgb-aberration-blue: rgba(0, 0, 255, 0.06);

            /* TypeIt.js Custom Cursor Properties */
            --ti-cursor-color: var(--terminal-text-color); /* Match text color */
            --ti-cursor-transform: translateX(-.125em); /* Default positioning */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--terminal-bg);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'VT323', monospace;
            color: var(--terminal-text-color);
            overflow: hidden; /* Prevent scrollbars from CRT effects */
        }

        /* Terminal Wrapper for Centering */
       .terminal-wrapper {
            position: relative;
            width: 90vw;
            max-width: 800px;
            height: 60vh;
            max-height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            border-radius: 10px;
            overflow: hidden; /* Ensures CRT effects stay within bounds */
        }

        /* CRT Screen Styling */
       .crt-screen {
            position: relative; /* Establishes new stacking context for children */
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9); /* Dark screen background */
            border: 2px solid var(--terminal-glow-color); /* Outer border glow */
            box-shadow: 0 0 15px var(--terminal-glow-color), 0 0 30px var(--terminal-glow-color) inset; /* Soft outer glow and inner glow */
            overflow: hidden; /* Crucial for containing text and effects */
            /* Global CRT filter effects */
            filter: brightness(1.1) contrast(1.1) saturate(1.1);
            /* Subtle CRT screen curve effect */
            border-radius: 50% / 10%;
            transform: scaleY(0.9) perspective(100px) rotateX(2deg);
            transition: all 0.3s ease-in-out; /* Smooth transitions for hover/focus */
        }

        /* Scanline Overlay using ::before pseudo-element */
       .crt-screen::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            /* Horizontal scanlines and subtle RGB aberrations */
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, var(--crt-scanline-color) 50%),
                        linear-gradient(90deg, var(--crt-rgb-aberration-red), var(--crt-rgb-aberration-green), var(--crt-rgb-aberration-blue));
            background-size: 100% 2px, 3px 100%; /* Define line thickness */
            z-index: 2; /* Place above text content */
            pointer-events: none; /* Allows interaction with elements beneath */
            animation: scanlines 8s linear infinite; /* Subtle movement for scanlines */
        }

        /* Flicker Overlay using ::after pseudo-element */
       .crt-screen::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.1); /* Subtle dark overlay */
            z-index: 3; /* Place on top of scanlines */
            pointer-events: none; /* Allows interaction with elements beneath */
            animation: flicker 0.1s infinite alternate; /* Rapid, subtle flicker */
        }

        /* Keyframe Animations for CRT Effects */
        @keyframes scanlines {
            0% { background-position: 0 0, 0 0; }
            100% { background-position: 0 100%, 0 0; } /* Slowly move scanlines down */
        }

        @keyframes flicker {
            0%, 100% { opacity: 0.05; }
            50% { opacity: 0.15; }
        }

        /* Text Content Styling */
       .text-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%; /* Constrain text width within screen */
            text-align: left;
            font-size: 1.8em;
            line-height: 1.4;
            white-space: nowrap; /* Keep text on one line for typewriter effect */
            overflow: hidden; /* Hide text beyond current width */
            text-shadow: 0 0 5px var(--terminal-glow-color); /* Text glow */
            z-index: 1; /* Place below scanline/flicker overlays */
        }

        /* TypeIt.js specific styling for the cursor */
       .ti-cursor {
            text-shadow: 0 0 5px var(--terminal-glow-color), 0 0 10px var(--terminal-glow-color); /* Cursor glow */
        }

        /* Accessibility: prefers-reduced-motion */
        @media (prefers-reduced-motion: reduce) {
           .crt-screen {
                border-radius: 0; /* Remove curve */
                transform: none; /* Remove subtle 3D transform */
                transition: none; /* Remove transitions */
            }
           .crt-screen::before {
                animation: none; /* Disable scanline movement */
                background-position: 0 0, 0 0; /* Keep scanlines static */
            }
           .crt-screen::after {
                animation: none; /* Disable flicker */
                opacity: 0; /* Make flicker overlay transparent */
            }
           .ti-cursor {
                animation: none!important; /* Disable cursor blinking animation */
                opacity: 1!important; /* Keep cursor visible */
            }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
           .terminal-wrapper {
                width: 95vw;
                height: 70vh;
                padding: 10px;
            }
           .text-content {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="terminal-wrapper">
        <div class="crt-screen">
            <div class="text-content">
                <span id="typewriter-text"></span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize TypeIt.js
            new TypeIt("#typewriter-text", {
                speed: 60, // Typing speed in milliseconds per character
                startDelay: 1000, // Delay before typing starts
                loop: true, // Loop the animation indefinitely
                cursorChar: "_", // Custom cursor character [span_115](start_span)[span_115](end_span)
                cursor: {
                    animation: {
                        frames: [
                            { opacity: 0 },
                            { opacity: 1 }
                        ],
                        options: {
                            duration: 700, // Blinking speed
                            easing: "linear",
                            iterations: Infinity,
                            direction: "alternate"
                        }
                    }
                },
                afterStep: function(instance) {
                    // Example: Dynamically change text shadow color after each character
                    // This creates a subtle "pulse" effect with each typed character.
                    const element = instance.getElement();
                    if (element) {
                        const randomHue = Math.floor(Math.random() * 360);
                        element.style.textShadow = `0 0 5px hsl(${randomHue}, 100%, 50%), 0 0 10px hsl(${randomHue}, 100%, 50%)`;
                    }
                }
            })
           .type("Initializing secure terminal access...", { delay: 500 })
           .pause(1000)
           .delete(5, { delay: 200 }) // Simulate backspace and correction
           .type("system protocols...", { delay: 300 })
           .move(null, { to: "END", instant: true, delay: 500 }) // Move cursor to end instantly
           .type("<br>Establishing connection to mainframe...")
           .pause(1500)
           .exec(async () => { // Execute asynchronous code [span_33](start_span)[span_33](end_span)
                // Simulate a network delay
                await new Promise(resolve => setTimeout(resolve, 2000));
            })
           .type("<br>Authentication successful. Welcome, User_001.")
           .pause(800)
           .type("<br><br>_") // Add a new line and a blinking cursor
           .go(); // Start the animation
        });
    </script>
</body>
</html>
